krisp 에서 hostip 를 지원하기 위한 문서

1. 다운로드 hostip city CSV
   rsync -rltvz --progress hostip.info::hostip/csv/hip_ip4_city_lat_lng.csv ./

2. 필드 정리
   awk -F',' '{print $1"|"$2}' ./hip_ip4_city_lat_lng.csv > hostip.csv

3. %20 을 " " 로 변환 : perl -pi -e 's/%20/ /g' ./hostip.csv

4. 중복 확인 및 제거 :
   awk -F'|' '{print $1}' hostip.csv | sort | uniq -c > ppp
   /[2-9]\t 로 확인하여 hostip.csv 에서 longip 를 유일값으로 수정

5. 문자열 수정
   perl -pi -e 's/Pusan/Busan/g' hostip.csv
   perl -pi -e 's/ULSAN/Ulsan/g' hostip.csv

t. krisp.dat 에 hostip table 생성
   sqlite(3) /usr/share/krisp/krisp.dat
   sqlite> CREATE TABLE hostip ( longip integer unsigned NOT NULL PRIMARY KEY, city varchar(64) NOT NULL DEFAULT '' );
   sqlite> CREATE index hostip_city ON hostip(city);

7. data import
   sqlite> .import hostip.csv hostip (if sqlite3)

